<!DOCTYPE html>
<html lang="zh-cn">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>刘亚林 | Yalin Liu</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/r.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/python.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>

<script src="/js/copy-code.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

<link rel="stylesheet" href="/css/custom.css">



    <link rel="icon" href="https://assets.yalinliu.org/icon.jpg">





  </head>
  
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    
    
    <img src="https://assets.yalinliu.org/logo.jpg"
         width="50"
         height="50"
         alt="Yalin&#39;s Website">
    
    <span class="nav-title">刘亚林 | Yalin Liu</span>
  </a>

  <div class="nav-right">
    <ul class="nav-links">
      
        <li><a href="/">首页</a></li>
      
        <li><a href="/about/">关于</a></li>
      
        <li><a href="/posts/">博客</a></li>
      
        <li><a href="/article/">文章</a></li>
      
        <li><a href="/study/">学习</a></li>
      
    </ul>

    
    <div class="language-switcher">
      <button id="language-button">
        <i class="fa fa-language" style="font-size:20px;"></i> 中文 <i class="fa fa-caret-down"></i>
      </button>
      <div id="language-menu" class="language-menu">
        
          
            <a href="/en">English</a>
          
        
          
        
      </div>
    </div>
    
  </div>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const button = document.getElementById("language-button");
    const menu = document.getElementById("language-menu");

    button.addEventListener("click", function(e) {
      e.stopPropagation();
      menu.classList.toggle("show");
    });

    document.addEventListener("click", function() {
      menu.classList.remove("show");
    });
  });
</script>

      </header>
    </div>


<main class = "content" role="main">
<div style="text-align: center">
  
  <h1>迭代期望定律（LIE）</h1>
  <p>刘亚林 
   / 2025-12-26 </p>
  
</div>



<div class="body-text list-text">
<p><strong>迭代期望定律</strong>（Law of Iterated Expectations, LIE），通常也被称为<strong>全期望公式</strong>（Adam&rsquo;s Law），是概率论中一个非常核心的定理。它描述了随机变量的条件期望与边缘期望之间的关系。</p>
<h2 id="定理的一般形式">定理的一般形式<a href="#定理的一般形式" class="header-anchor" ariaLabel="Anchor"> # </a></h2>
<p>假设 $X$ 和 $Y$ 是定义在同一概率空间上的随机变量，且 $E[X]$ 存在（即 $E[|X|] &lt; \infty$），那么其一般形式为：</p>
<p>$$E[X] = E[E[X|Y]]$$</p>
<hr>
<h2 id="如何理解这个公式">如何理解这个公式？<a href="#如何理解这个公式" class="header-anchor" ariaLabel="Anchor"> # </a></h2>
<p>这个公式初看可能有点绕，我们可以将其拆解为两个层次：</p>
<ul>
<li><strong>内层期望 $E[X|Y]$</strong>：这是一个关于 $Y$ 的函数（也是一个随机变量）。它表示在已知 $Y$ 的取值时，$X$ 的平均值。</li>
<li><strong>外层期望 $E[\cdot]$</strong>：这是对随机变量 $Y$ 的所有可能取值进行加权平均。</li>
</ul>
<p>直观理解：</p>
<p>如果你想计算全校学生的平均身高（$E[X]$），你可以先按班级（$Y$）分组，算出每个班的平均身高（$E[X|Y]$），然后再对这些班级平均分进行加权平均（外层 $E$）。最终得到的结果一定等于全校的平均身高。</p>
<hr>
<h2 id="更广义的形式基于-sigma-代数">更广义的形式（基于 $\sigma$-代数）<a href="#更广义的形式基于-sigma-代数" class="header-anchor" ariaLabel="Anchor"> # </a></h2>
<p>在更高级的概率论（测度论背景）中，该定理的形式更为抽象。设 $\mathcal{G}$ 是一个子 $\sigma$-代数（代表某种信息集），则：</p>
<p>$$E[X] = E[E[X|\mathcal{G}]]$$</p>
<p>此外，还有一个非常有用的<strong>塔式属性（Tower Property）</strong>。如果 $\mathcal{G}_1 \subset \mathcal{G}_2$（即 $\mathcal{G}_1$ 包含的信息比 $\mathcal{G}_2$ 少），那么：</p>
<p>$$E[E[X|\mathcal{G}_2]|\mathcal{G}_1] = E[X|\mathcal{G}_1]$$</p>
<p>这说明：<strong>如果你在拥有较少信息的情况下对一个“基于较多信息的预测值”进行预测，你的结果等同于直接利用较少信息进行的预测。</strong>（通俗点说：最简单的信息决定了最终的期望）。</p>



<p style="color:#777;">
   2026-02-26
  
    • <a href="https://github.com/Wertherliu/mysite/blob/main/content/cn/study%5cLIE.md" target="_blank"></a>
  
</p>

</div>

<div class="pagination">
  
  
</div>

</main>

<footer class="footer">

  <div class="footer-content">

    <div class="content">

<script src="https://giscus.app/client.js"
        data-repo="hongtaoh/hongtaoh.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkyNjM3NDMzMTY="
        data-category="Announcements"
        data-category-id="DIC_kwDOD7hnVM4CUKk6"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
</br>
 
</div>
    <script type="text/javascript" src="/js/math-code.js"></script>

<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    }
  };
</script>
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>

<script type="text/javascript" src="/js/center-img.js"></script>


    <ul class="footer-links">

      

      
        <li>
          <a href="/index.xml" type="application/rss+xml" title="RSS feed" class="footer-link-flex">
            
            <i class="fa fa-rss-square" aria-hidden="true" title="RSS"></i>
          </a>
        </li>
      

        <li>
          <a class="footer-link-flex" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" target="_blank">
            
            <i class="fa fa-cc" aria-hidden="true" title="Attribution-NonCommercial-ShareAlike 4.0 International"></i>
          </a>
        </li>          
      

    </ul>

    <div class="footer-meta">
      
        ©
      
      
      
    
      
      
      
      
        2020-2026
      
    </div>
    

  </div>

</footer>





